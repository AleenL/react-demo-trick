{"remainingRequest":"/Users/pro/new world/node_modules/babel-loader/lib/index.js!/Users/pro/new world/node_modules/eslint-loader/index.js??ref--4-0!/Users/pro/new world/app/public/js/leanCloud.js","dependencies":[{"path":"/Users/pro/new world/app/public/js/leanCloud.js","mtime":1522053263252},{"path":"/Users/pro/new world/.babelrc","mtime":1522043804407},{"path":"/Users/pro/new world/node_modules/cache-loader/dist/cjs.js","mtime":1521535871442},{"path":"/Users/pro/new world/node_modules/babel-loader/lib/index.js","mtime":1520329890000},{"path":"/Users/pro/new world/node_modules/eslint-loader/index.js","mtime":1499322156000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.setTodo = undefined;\nexports.signIn = signIn;\nexports.signUp = signUp;\nexports.logOut = logOut;\nexports.getCurretUser = getCurretUser;\n\nvar _leancloudStorage = require('leancloud-storage');\n\nvar _leancloudStorage2 = _interopRequireDefault(_leancloudStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar APP_ID = 'OvVqY6JyIgXMvhPg5WUDCdie-gzGzoHsz';\nvar APP_KEY = 'dV4NCQ056iRz1wloKCxBqjlc';\n\n//初始化leanCloud\n_leancloudStorage2.default.init({\n    appId: APP_ID,\n    appKey: APP_KEY\n});\n\n//创建一个对象\nexports.default = _leancloudStorage2.default;\nfunction signIn(username, password, successFn, errorFn) {\n    // 新建 AVUser 对象实例\n    var user = new _leancloudStorage2.default.User();\n    // 设置用户名\n    user.setUsername(username);\n    // 设置密码\n    user.setPassword(password);\n    // 设置邮箱\n    user.signUp().then(function (loginedUser) {\n        var user = getUserFromAVUser(loginedUser);\n        successFn.call(null, user);\n    }, function (error) {\n        errorFn.call(null, error);\n    });\n\n    return undefined;\n}\n\nfunction signUp(username, password, successFn, errorFn) {\n    console.log(username, password);\n    //登录接口\n    _leancloudStorage2.default.User.logIn(username, password).then(function (loginedUser) {\n        var user = getUserFromAVUser(loginedUser);\n        successFn.call(null, user);\n    }, function (error) {\n        errorFn.call(null, error);\n    });\n\n    return undefined;\n}\n\nfunction logOut() {\n    _leancloudStorage2.default.User.logOut();\n    return undefined;\n}\n\nfunction getCurretUser() {\n    var user = _leancloudStorage2.default.User.current();\n    if (user) {\n        return getUserFromAVUser(user);\n    } else {\n        return null;\n    }\n}\n\nfunction getUserFromAVUser(AVUser) {\n    console.log(AVUser);\n    return AVUser.id;\n}\n\nvar setTodo = exports.setTodo = function setTodo(list) {\n    var user = _leancloudStorage2.default.User.current();\n    user.set('todo', { array: list }).then(function (todo) {\n        return todo.id;\n    }).catch(function (err) {\n        return console.log(err);\n    });\n};",null]}